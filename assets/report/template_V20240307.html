<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="author" content="USER">
    <link rel="icon" type="image/png" href="https://www.nextflow.io/img/favicon.png" />
    

    <title>MetaflowX</title>
    <style>
        .sidebar {
            position: fixed;
            top: 1%;
            left: 0;
            width: 100%;
            height: 10%;
            background-color: rgb(45, 51, 56);
            overflow: auto;
            padding-top: 20px;
        }
        .content {
            margin-top: 5%;
            margin-right: 8%;
            margin-left: 8%;
        }

        .navbar-nav .nav-item {
        margin-right: 15px;
    }

        #Result.plot {
            width: 90%; /* 宽度为浏览器窗口宽度的90% */
            margin-right: 2%; 
            margin-left: 2%;
        }


    </style>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">


</head>
<body>

    <nav id="nf-report-navbar" class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">

        <a class="navbar-brand" href="#" style="display: flex; align-items: center;">
            <img src="data:image/png;base64,{{ logo }}" alt="logo" style="width: 3%; height: 3%; margin-right: 5px;">
            <span style="flex-grow: 1;">PIPELINE REPORT</span>
        </a>

        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="#Top"><span>TOP</span></a></li>
                <li class="nav-item"><a class="nav-link" href="#Result"><span>RESULT</span></a></li>
                <li class="nav-item"><a class="nav-link" href="#Reference"><span>REFERENCE</span></a></li>
            </ul>
            <span class="navbar-text">
                [{{ username }}]
            </span>
        </div>
    </nav>

    <div class="content" >
        <div   id="Top" style="display: flex; justify-content: center; " >
            <h1 style="color: #24B064; font-size: 36pt; font-weight: bold; ">MetaflowX</h1>
        </div>

        <div style="display: flex; justify-content: center;" >
            <img src="data:image/png;base64,{{ pipelinePNG }}" alt="pipelinePNG" style="width:90%; margin-right: 2%; margin-left: 2%;" /> 
        </div>

        {% for item in plotdata %}
            {% if item.type == 'H1' %}
                <h1 style="color: #24B064; font-size: 24pt;">{{item.content}}</h1>

            {% elif item.type == 'home' %}
                <div class="text" style="text-align: center; ">
                    <p>{{item.content}}</p>
                </div>

            {% elif item.type == 'text' %}
                <p style="margin-top: 20px;" ><i class="fa-sharp fa-solid fa-snowflake fa-spin" style="color: #183153;" ></i>&nbsp;&nbsp;{{ item.content|safe }}</p>

                                
            {% elif item.type == 'plot' %}
                <div id="Result" class="plot" >
                    {{ item.content | safe }}
                </div>
            {% endif %}
        {% endfor %}

        <div id="Reference" class="txt">
            <h1>References</h1>
            <p style="font-size: 8pt; color: gray; font-style: italic;">
                {{ReferencesTxt}}
            </p>
        </div>
    </div>


    <footer style="background-color: #ededed; margin: 50px 0 0; padding: 10px 0; border-top: 1px solid #cccccc; color: #999999; font-size: 0.8rem; text-align: center;">
        <div class="container-fluid">
            Generated by <a href="https://www.nextflow.io" target="_blank" style="color: #999999; text-decoration: underline;">MetaflowX version 1.0</a>
        </div>
    </footer>

    

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.3.4.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.3.4.min.js"></script>
    <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.3.4.min.js"></script>
    <script type="text/javascript">Bokeh.set_log_level("info");</script>



</body>
</html>
